import{ag as t,h as l,ah as N,ai as L,aj as O,ak as S,al as n,am as q,an as k}from"./runtime.Cmgmoomy.js";import{a as B,l as u}from"./events.A1Io8xIm.js";import{a as D}from"./if.BS3WJhYz.js";function C(e){if(l){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var f=e.value;m(e,"value",null),e.value=f}if(e.hasAttribute("checked")){var s=e.checked;m(e,"checked",null),e.checked=s}}};e.__on_r=a,O(a),B()}}function m(e,r,a,f){var s=e.__attributes??(e.__attributes={});l&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="style"&&"__styles"in e&&(e.__styles={}),r==="loading"&&(e[N]=a),a==null?e.removeAttribute(r):typeof a!="string"&&I(e).includes(r)?e[r]=a:e.setAttribute(r,a))}var g=new Map;function I(e){var r=g.get(e.nodeName);if(r)return r;g.set(e.nodeName,r=[]);for(var a,f=t(e),s=Element.prototype;s!==f;){a=L(f);for(var _ in a)a[_].set&&r.push(_);f=t(f)}return r}function E(e,r,a=r){var f=S();u(e,"input",()=>{var s=A(e)?b(e.value):e.value;a(s),f&&s!==(s=r())&&(e.value=s??"")}),n(()=>{var s=r();if(l&&e.defaultValue!==e.value){a(e.value);return}A(e)&&s===b(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const h=new Set;function G(e,r,a,f,s=f){var _=a.getAttribute("type")==="checkbox",o=e;let i=!1;if(r!==null)for(var d of r)o=o[d]??(o[d]=[]);o.push(a),u(a,"change",()=>{var c=a.__value;_&&(c=y(o,c,a.checked)),s(c)},()=>s(_?[]:null)),n(()=>{var c=f();if(l&&a.defaultChecked!==a.checked){i=!0;return}_?(c=c||[],a.checked=c.includes(a.__value)):a.checked=D(a.__value,c)}),q(()=>{var c=o.indexOf(a);c!==-1&&o.splice(c,1)}),h.has(o)||(h.add(o),k(()=>{o.sort((c,v)=>c.compareDocumentPosition(v)===4?-1:1),h.delete(o)})),k(()=>{if(i){var c;if(_)c=y(o,c,a.checked);else{var v=o.find(w=>w.checked);c=v==null?void 0:v.__value}s(c)}})}function K(e,r,a=r){u(e,"change",()=>{var f=e.checked;a(f)}),r()==null&&a(!1),n(()=>{var f=r();e.checked=!!f})}function y(e,r,a){for(var f=new Set,s=0;s<e.length;s+=1)e[s].checked&&f.add(e[s].__value);return a||f.delete(r),Array.from(f)}function A(e){var r=e.type;return r==="number"||r==="range"}function b(e){return e===""?null:+e}export{E as a,G as b,K as c,C as r,m as s};
