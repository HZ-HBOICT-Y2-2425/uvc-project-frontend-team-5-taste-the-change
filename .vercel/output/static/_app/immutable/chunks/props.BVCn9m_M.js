import{N as Y,S as q,O as w,P as F,Q as U,R as M,A as b,T as $,U as x,V as h,W as y,X as L,Y as G,Z as V,_ as Z,$ as p,g as _,a0 as z,n as H,a1 as Q,a2 as W,a3 as X}from"./runtime.Cmgmoomy.js";import{p as j}from"./if.BS3WJhYz.js";import{c as J}from"./store.BR7jrXE-.js";import{l as K}from"./index.BFqC5wTN.js";function B(r){for(var a=b,n=b;a!==null&&!(a.f&($|x));)a=a.parent;try{return h(a),r()}finally{h(n)}}function ne(r,a,n,v){var T;var I=(n&y)!==0,d=!K||(n&U)!==0,P=(n&F)!==0,C=(n&Z)!==0,O=!1,u;P?[u,O]=J(()=>r[a]):u=r[a];var D=q in r||w in r,s=((T=Y(r,a))==null?void 0:T.set)??(D&&P&&a in r?e=>r[a]=e:void 0),t=v,m=!0,S=!1,A=()=>(S=!0,m&&(m=!1,C?t=p(v):t=v),t);u===void 0&&v!==void 0&&(s&&d&&M(),u=A(),s&&s(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?A():(m=!0,S=!1,e)};else{var g=B(()=>(I?L:G)(()=>r[a]));g.f|=V,i=()=>{var e=_(g);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&z))return i;if(s){var N=r.$$legacy;return function(e,f){return arguments.length>0?((!d||!f||N||O)&&s(f?i():e),e):i()}}var c=!1,E=!1,o=H(u),l=B(()=>L(()=>{var e=i(),f=_(o);return c?(c=!1,E=!0,f):(E=!1,o.v=e)}));return I||(l.equals=Q),function(e,f){if(W!==null&&(c=E,i(),_(o)),arguments.length>0){const R=f?_(l):d&&P?j(e):e;return l.equals(R)||(c=!0,X(o,R),S&&t!==void 0&&(t=R),p(()=>_(l))),e}return _(l)}}export{ne as p};
