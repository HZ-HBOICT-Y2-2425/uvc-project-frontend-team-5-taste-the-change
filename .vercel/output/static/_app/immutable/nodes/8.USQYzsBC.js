import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.CtaTdtmd.js";import{ab as me,p as Ce,s as De,ac as Le,a3 as f,g as i,ad as x,ae as Se,a as r,c as a,t as W,af as Oe,b as qe,r as e,aa as X}from"../chunks/runtime.Cmgmoomy.js";import{s as d}from"../chunks/render.B40glcvt.js";import{a as Pe,i as Te}from"../chunks/if.BS3WJhYz.js";import{e as $e,i as He}from"../chunks/each.BGVb7UDf.js";import{t as D,a as F}from"../chunks/template.5Y4nkR4-.js";import{s as de,b as _e,a as Ke,c as Me,r as C}from"../chunks/input.DcazIfk3.js";import{l as Ue,e as b}from"../chunks/events.A1Io8xIm.js";import{i as Ve}from"../chunks/lifecycle.7AkPq5ul.js";import{p as je}from"../chunks/props.BVCn9m_M.js";function fe(t,o,n){if(t.multiple)return Ie(t,o);for(var p of t.options){var s=w(p);if(Pe(s,o)){p.selected=!0;return}}(!n||o!==void 0)&&(t.selectedIndex=-1)}function Ae(t,o){me(()=>{var n=new MutationObserver(()=>{var p=t.__value;fe(t,p)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Ee(t,o,n=o){var p=!0;Ue(t,"change",()=>{var s;if(t.multiple)s=[].map.call(t.querySelectorAll(":checked"),w);else{var v=t.querySelector(":checked");s=v&&w(v)}n(s)}),me(()=>{var s=o();if(fe(t,s,p),p&&s===void 0){var v=t.querySelector(":checked");v!==null&&(s=w(v),n(s))}t.__value=s,p=!1}),Ae(t)}function Ie(t,o){for(var n of t.options)n.selected=~o.indexOf(w(n))}function w(t){return"__value"in t?t.__value:t.value}var Ne=D('<div class="container w-full m-5"><section><div class="w-[1150px] h-auto p-2"><div class="bg-green-50 rounded-lg border-2 border-black h-auto mt-3 mb-3"><div class="flex items-center p-3"><img class="h-[100px] w-auto mr-4"> <div><h3 class="text-xl"> </h3> <p class="text-sm"> </p> <p class="text-sm"> </p> <p class="text-sm"> </p> <p class="text-sm"> </p> <p class="text-sm"> </p></div></div></div></div></section></div>'),ze=D("<ul></ul>"),Be=D("<p>No recipes found.</p>"),Ge=D('<div class="container w-full mx-auto"><section class="flex items-center mb-5"><h2 class="text-6xl">Recipes</h2></section> <section class="flex justify-between gap-x-8"><aside class="p-4 flex flex-col space-y-6 w-1/4 h-fit rounded-lg shadow-lg bg-gradient-to-br from-green-200 via-blue-100 to-blue-200"><h2 class="text-4xl">Filters</h2> <div><h3 class="text-2xl">Diet</h3> <select class="w-full p-2 rounded-lg border border-gray-300"><option>Select Diet</option><option>Vegetarian</option><option>Vegan</option><option>Flexitarian</option><option>Pescatarian</option><option>Mediterranean</option><option>Keto</option></select></div> <div><h3 class="text-2xl mb-2">CO2 Emissions</h3> <div class="flex flex-col space-y-2"><label class="bg-white p-2 rounded-lg flex items-center space-x-2"><input type="radio" name="co2Range" class="w-5 h-5 rounded border-gray-300"> <span class="text-lg">High to Low</span></label> <label class="bg-white p-2 rounded-lg flex items-center space-x-2"><input type="radio" name="co2Range" class="w-5 h-5 rounded border-gray-300"> <span class="text-lg">Low to High</span></label></div></div> <div><h3 class="text-2xl mb-2">Preparation Time (min)</h3> <input type="range" min="10" max="120" step="5" class="w-full"> <p class="mt-2 text-lg"> </p></div> <div><h3 class="text-2xl mb-2">Favourites</h3> <label class="bg-white p-2 rounded-lg flex items-center space-x-2"><input type="checkbox" class="w-5 h-5 rounded border-gray-300"> <span class="text-lg">Favourites ❤️</span></label></div></aside> <div class="w-3/4"><h2 class="text-3xl"> </h2> <!></div></section></div>');function la(t,o){Ce(o,!1);const n=[];De("apiReference",{mainUrl:"http://localhost:3012"});let p=je(o,"data",8),s=x(""),v=x(""),y=x(30),Y=x(!1);console.log("Data in +page.svelte:",p().data.recipes);let _=x([]);function m(){f(_,p().data.recipes.filter(l=>{let u=i(s)===""||l.diet.toLowerCase()===i(s).toLowerCase(),E=l.time<=i(y);return u&&E})),i(v)==="low-to-high"?i(_).sort((l,u)=>l.emission_per_meal-u.emission_per_meal):i(v)==="high-to-low"&&i(_).sort((l,u)=>u.emission_per_meal-l.emission_per_meal)}Le(()=>{},()=>{m()}),Se(),Ve();var L=Ge(),Z=r(a(L),2),S=a(Z),O=r(a(S),2),k=r(a(O),2);W(()=>{i(s),Oe(()=>{})});var q=a(k);q.value=((q.__value="")==null,"");var P=r(q);P.value=(P.__value="vegetarian")==null?"":"vegetarian";var T=r(P);T.value=(T.__value="vegan")==null?"":"vegan";var $=r(T);$.value=($.__value="flexitarian")==null?"":"flexitarian";var H=r($);H.value=(H.__value="pescatarian")==null?"":"pescatarian";var K=r(H);K.value=(K.__value="mediterranean")==null?"":"mediterranean";var ee=r(K);ee.value=(ee.__value="keto")==null?"":"keto",e(k),e(O);var M=r(O,2),ae=r(a(M),2),U=a(ae),g=a(U);C(g),g.value=(g.__value="high-to-low")==null?"":"high-to-low",X(2),e(U);var te=r(U,2),h=a(te);C(h),h.value=(h.__value="low-to-high")==null?"":"low-to-high",X(2),e(te),e(ae),e(M);var V=r(M,2),R=r(a(V),2);C(R);var ie=r(R,2),ge=a(ie);e(ie),e(V);var re=r(V,2),le=r(a(re),2),j=a(le);C(j),X(2),e(le),e(re),e(S);var se=r(S,2),A=a(se),he=a(A);e(A);var xe=r(A,2);Te(xe,()=>i(_).length>0,l=>{var u=ze();$e(u,5,()=>i(_),He,(E,c)=>{var I=Ne(),ne=a(I),oe=a(ne),ve=a(oe),pe=a(ve),N=a(pe),ue=r(N,2),z=a(ue),be=a(z,!0);e(z);var B=r(z,2),we=a(B,!0);e(B);var G=r(B,2),ye=a(G,!0);e(G);var J=r(G,2),ke=a(J);e(J);var Q=r(J,2),Re=a(Q);e(Q);var ce=r(Q,2),Fe=a(ce);e(ce),e(ue),e(pe),e(ve),e(oe),e(ne),e(I),W(()=>{de(N,"src",i(c).image),de(N,"alt",i(c).name),d(be,i(c).name),d(we,i(c).description),d(ye,i(c).diet),d(ke,`${i(c).servings??""} Servings`),d(Re,`${i(c).emission_per_meal??""} Kg CO2`),d(Fe,`${i(c).time??""} minutes`)}),F(E,I)}),e(u),F(l,u)},l=>{var u=Be();F(l,u)}),e(se),e(Z),e(L),W(()=>{d(ge,`Up to: ${i(y)??""} minutes`),d(he,`Recipes matching description: ${i(_).length??""}`)}),Ee(k,()=>i(s),l=>f(s,l)),b("change",k,m),_e(n,[],g,()=>i(v),l=>f(v,l)),b("change",g,m),_e(n,[],h,()=>i(v),l=>f(v,l)),b("change",h,m),Ke(R,()=>i(y),l=>f(y,l)),b("input",R,m),Me(j,()=>i(Y),l=>f(Y,l)),b("change",j,m),F(t,L),qe()}export{la as component};
